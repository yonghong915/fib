<?xml version="1.0" encoding="UTF-8"?>
<message-bean-mapping id="SAPS_604MappingOut" source-type="message-bean" target-type="map">
	<mapping type="value" to="serviceId">processCommunicationEvent</mapping><!-- 新交流事件 -->
	<mapping type="value" to="extendMap.requestOrResponse">response</mapping> 
	<mapping type="value" to="communicationEventTypeId">MESSAGE_IN_COMM</mapping>
	<mapping type="value" to="productId">X011sp604</mapping>
	<!-- 添加一个来往标识，防止行内转的时候找不到往账的业务-->
	<mapping type="value" to="extendMap.communicationEventTypeId">MESSAGE_OUT_COMM,MESSAGE_OUT_UNCOMM</mapping>

	<!--1、MessageBeanServlet中去CommunicationEvent表中查找原交易-->
	<mapping type="value-mapping" from="SAPS_604_Out.OrgnlGrpHdr.OriginalMessageIdentification" to="extendMap.originalMessageIdentification"/><!-- 原报文标识号 -->
	<mapping type="value-mapping" from="SAPS_604_Out.OrgnlGrpHdr.OriginalInstructingParty" to="extendMap.originalInstructingParty"/><!-- 原发起参与机构 -->
	<mapping type="value-mapping" from="SAPS_604_Out.OrgnlGrpHdr.OriginalMessageType" to="extendMap.originalMessageType"/><!-- 原报文类型-->
	<mapping type="value-mapping" from="SAPS_604_Out.GrpHdr.InstructedParty" to="InstructedParty"/><!-- 接收参与机构 -->
	<mapping type="value-mapping" from="MsgHeader.MesgType" to="contentMimeTypeId"></mapping><!-- 报文类型代码saps.604.001.01-->

	<!--2、交流事件需要参数-->
	<mapping type="value-mapping" from="SAPS_604_Out.GrpHdr.InstructingParty" to="partyIdFrom"/><!--发起参与机构 -->
	<mapping type="value-mapping" from="MsgHeader.OrigSenderSID" to="prodCatalogId"></mapping><!-- 发送系统号  HVPS-->
	<mapping type="value-mapping" from="SAPS_604_Out.GrpHdr.MessageIdentification" to="subject"/><!-- 报文标识号 -->
	<mapping type="value-mapping" from="SAPS_604_Out.NPCPrcInf.RejectInformation" to="note"/><!-- NPC拒绝信息 -->

	<!--3、ccms.990通信级确认报文需要参数-->
	<!--原来账报文的报文类型	contentMimeTypeId-->
	<mapping type="value-mapping" from="MsgHeader.OrigSender" to="extendMap.origSender"></mapping><!--原来账报文的发起人extendMap.origSender-->
	<mapping type="value-mapping" from="MsgHeader.OrigReceiver" to="extendMap.origReceiver"></mapping><!--原来账报文的接收人extendMap.origReceiver-->
	<mapping type="value-mapping" from="MsgHeader.OrigSendDate" to="extendMap.origSendDate" ></mapping><!-- 原来账报文的发起时间extendMap.origSendDate -->
	<mapping type="value-mapping" from="MsgHeader.MesgID" to="extendMap.mesgID" ></mapping><!-- 原来账报文的通信级标识号extendMap.mesgID -->
	<mapping type="value-mapping" from="MsgHeader.MesgRefID" to="extendMap.mesgRefID"></mapping><!--原来账报文的通信级参考标识号extendMap.mesgRefID-->
	<mapping type="value-mapping" from="MsgHeader.OrigSenderSID" to="extendMap.origSenderSID"></mapping><!-- 原来账报文的发送系统号extendMap.origSenderSID-->
	<mapping type="value-mapping" from="MsgHeader.OrigReceiverSID" to="extendMap.origReceiverSID"></mapping> <!--原来账报文的接收系统号extendMap.origReceiverSID-->

	<!--4，其他信息都扔extendMap-->
	<!-- 报文头 -->
	<!--<mapping type="value-mapping" from="MsgHeader.BeginFlag" to="BeginFlag"></mapping> 开始标识 -->
	<!--<mapping type="value-mapping" from="MsgHeader.VersionID" to="VersionID"></mapping> 版本号 -->
	<mapping type="value-mapping" from="MsgHeader.OrigSendDate" to="extendMap.origSendDate" ></mapping><!-- 报文发起日期20100501 -->
  	<mapping type="value-mapping" from="MsgHeader.OrigSendTime" to="extendMap.origSendTime"></mapping><!-- 报文发起时间094508-->
  	<mapping type="value-mapping" from="MsgHeader.StructType" to="extendMap.StructType"></mapping><!-- 报文格式 -->
  	<mapping type="value-mapping" from="MsgHeader.MesgPriority" to="extendMap.MesgPriority"></mapping><!-- 报文优先级-->
	<mapping type="value-mapping" from="MsgHeader.MesgDirection" to="extendMap.MesgDirection"></mapping><!--报文传输方向 -->
    <mapping type="value-mapping" from="MsgHeader.Reserve" to="extendMap.Reserve"></mapping><!--保留域-->
	<!--<mapping type="value-mapping" from="MsgHeader.EndFlag" to="EndFlag"></mapping> 结束标识 -->
	<!-- 报文体 -->
	<!-- 业务头 -->
		<mapping type="value-mapping" from="SAPS_604_Out.GrpHdr.MessageIdentification" to="extendMap.MessageIdentification"/><!-- 报文标识号 -->
		<mapping type="value-mapping" from="SAPS_604_Out.GrpHdr.CreationDateTime" to="extendMap.CreationDateTime"/><!-- 报文发送时间 -->
		<mapping type="value-mapping" from="SAPS_604_Out.GrpHdr.InstructingDirectParty" to="extendMap.InstructingDirectParty"/><!-- 发起直接参与机构-->
		<mapping type="value-mapping" from="SAPS_604_Out.GrpHdr.InstructingParty" to="extendMap.InstructingParty"/><!--发起参与机构 -->
		<mapping type="value-mapping" from="SAPS_604_Out.GrpHdr.InstructedDirectParty" to="extendMap.InstructedDirectParty"/><!-- 接收直接参与机构 -->
		<mapping type="value-mapping" from="SAPS_604_Out.GrpHdr.InstructedParty" to="extendMap.InstructedParty"/><!-- 接收参与机构 -->
		<mapping type="value-mapping" from="SAPS_604_Out.GrpHdr.SystemCode" to="extendMap.SystemCode"/><!-- 系统编号 -->
		<mapping type="value-mapping" from="SAPS_604_Out.GrpHdr.Remark" to="extendMap.Remark"/><!-- 备注 -->
	
	<!-- NPC信息组件，这个由NPC填写，非必输的组件 -->
		<mapping type="value-mapping" from="SAPS_604_Out.NPCPrcInf.ProcessStatus" to="extendMap.ProcessStatus"/><!-- NPC处理状态 -->
		<mapping type="value-mapping" from="SAPS_604_Out.NPCPrcInf.ProcessCode" to="extendMap.ProcessCode"/><!-- NPC处理码 -->
		<mapping type="value-mapping" from="SAPS_604_Out.NPCPrcInf.ProcessCode" to="note"></mapping><!-- 处理码 -->
		<mapping type="value-mapping" from="SAPS_604_Out.NPCPrcInf.RejectInformation" to="extendMap.RejectInformation"/><!-- NPC拒绝信息 -->
		<mapping type="value-mapping" from="SAPS_604_Out.NPCPrcInf.NettingDate" to="extendMap.nettingDate"/><!-- NPC轧差日期 -->
		<mapping type="value-mapping" from="SAPS_604_Out.NPCPrcInf.NettingRound" to="extendMap.nettingRound"/><!-- NPC轧差场次 -->
		<mapping type="value-mapping" from="SAPS_604_Out.NPCPrcInf.SettlementDate" to="extendMap.settlementDate"/><!-- NPC清算日期/终态日期 -->
		<mapping type="value-mapping" from="SAPS_604_Out.NPCPrcInf.ReceiveTime" to="extendMap.ReceiveTime"/><!-- NPC接收时间 -->
		<mapping type="value-mapping" from="SAPS_604_Out.NPCPrcInf.TransmitTime" to="extendMap.TransmitTime"/><!-- NPC转发时间 -->
	<!-- 其他 -->
		<mapping type="value-mapping" from="SAPS_604_Out.Balance" to="extendMap.Balance"/><!--当前余额 -->
		<mapping type="value-mapping" from="checkEscortFlag" to="checkEscortFlag"/> <!--核押验签结果 -->
</message-bean-mapping>
