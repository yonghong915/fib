<?xml version="1.0" encoding="UTF-8"?>
<message-bean-mapping id="SAPS_607MappingOut" source-type="message-bean" target-type="map">
	 <!-- 来账登记交流事件要素 -->
  	<mapping type="value" to="serviceId">processPaymentOrder</mapping>
	<!--来账登记交流事件要素-->
	<mapping type="value" to="salesChannelEnumId">CNAPS</mapping> <!--触发ECA条件-->
	<mapping type="value" to="cashOrTallyFlag">1</mapping><!--现转标识-->

	<mapping type="value-mapping" from="SAPS_607_Out.MessageIdentification" to="externalId"/> <!--报文标识号-->
	<mapping type="value-mapping" to="extendMap.origSendDate" from="MsgHeader.OrigSendDate"/>
	<mapping type="value-mapping" to="extendMap.mesgID" from="MsgHeader.MesgID"/>
	<mapping type="value-mapping" to="extendMap.mesgRefID" from="MsgHeader.MesgRefID"/>
	<mapping type="value-mapping" to="extendMap.origSenderSID" from="MsgHeader.OrigSenderSID"/>
	<mapping type="value-mapping" to="extendMap.origReceiverSID" from="MsgHeader.OrigReceiverSID"/>
	<mapping type="value-mapping" to="contentMimeTypeId" from="MsgHeader.MesgType"/> <!--报文类型号-->
	<mapping type="value-mapping" to="extendMap.origSender" from="MsgHeader.OrigSender"/> <!--报文发起人 -->
	<mapping type="value-mapping" to="extendMap.origReceiver" from="MsgHeader.OrigReceiver"/> <!--报文接收人 -->
	<mapping type="value-mapping" from="SAPS_607_Out.Identification" to="InstructedParty"/> <!-- 接收参与机构-->
	
	<mapping type="value" to="prodCatalogId">HVPS</mapping> <!--通道 -->
	<!-- paymentMethodInfo付款信息-->
	<!-- 透支利息合计 -->
	<mapping type="value-mapping" from="SAPS_607_Out.TotalNetEntryAmount" to="paymentMethodInfo.maxAmount"/>
	<!-- 付款人账号 -->
	<mapping type="value" to="paymentMethodInfo.accountNumber">0</mapping>
	
	<!-- 付款清算行行号 -->
	<mapping type="value-mapping" to="paymentMethodInfo.clearingBankCode" from="SAPS_607_Out.Identification3"/>
	<!-- 付款行行号 -->
    <mapping type="value-mapping" to="paymentMethodInfo.bankCode" from="SAPS_607_Out.Identification"></mapping>
	<mapping type="value" to="paymentMethodInfo.voucherType">99</mapping>
	<mapping type="script" to="products[0].quantity" >
	<![CDATA[
		return new java.math.BigDecimal(sourceBean.SAPS_607_Out.TotalNetEntryAmount);
		]]>
	</mapping>
	<!-- products 产品列表 -->
	<mapping type="value" to="products[0].productId">X014sp607</mapping>

	<!-- disbursement 收款信息 -->
	<!-- 透支利息合计 -->
	<mapping type="value-mapping" from="SAPS_607_Out.TotalNetEntryAmount" to="disbursement.maxAmount"/>
	<!-- 收款清算行行号 -->
	<mapping type="value-mapping" to="disbursement.clearingBankCode" from="MsgHeader.OrigSender"/>
	<!-- 收款行行号 -->
    <mapping type="value-mapping" to="disbursement.bankCode" from="MsgHeader.OrigSender"></mapping>
	<mapping type="value" to="disbursement.paymentMethodTypeId">EXT_CASH_RESERVE</mapping>
	<mapping type="value" to="disbursement.paymentMethodId">10005</mapping>
	<!-- 收款人账号 -->
	<mapping type="value" to="disbursement.accountNumber">0</mapping>
	<!-- 人工认证号 -->
	<mapping type="value-mapping" from="SAPS_607_Out.MessageIdentification" to="disbursement.manualRefNum"/>
	<mapping type="value" to="paymentOrderStepSettingId">SKIP_PAYMENT</mapping> <!-- 跳过交付环节-->
	
	<mapping type="value-mapping" to="products[0].answers.MesgRefID" from="MsgHeader.MesgRefID"/>
	<mapping type="value-mapping" from="SAPS_607_Out.CreationDateTime2" 	to="products[0].answers.messageSendTime"/><!--发送时间 -->
	<mapping type="value-mapping" from="SAPS_607_Out.Identification3"	to="products[0].answers.clearingBankCode"/><!-- 扣息清算行行号 -->
	<mapping type="value-mapping" from="SAPS_607_Out.NumberOfEntries" 		to="products[0].answers.numberOfEntries"/><!-- 计息时点个数 -->
	<mapping type="value-mapping" from="SAPS_607_Out.TotalNetEntryAmount" 	to="products[0].answers.totalNetEntryAmount"/><!-- 透支利息合计 -->
	<mapping type="value-mapping" from="SAPS_607_Out.Entry[].Amount2" 		to="products[0].answers.entry[].entryAmount"/><!-- 透支金额 -->
	<mapping type="value-mapping" from="SAPS_607_Out.Entry[].Amount3" 		to="products[0].answers.entry[].interestAmount"/><!-- 透支利息 -->
	<mapping type="value-mapping" from="SAPS_607_Out.Entry[].Percentage" 	to="products[0].answers.entry[].percentage"/><!-- 利率 -->
	<mapping type="value-mapping" from="SAPS_607_Out.Entry[].FromDateTime" 	to="products[0].answers.entry[].fromDateTime"/><!-- 计息时点 -->
	<mapping type="value-mapping" from="checkEscortFlag" to="checkEscortFlag"/> <!--核押验签结果 -->
</message-bean-mapping>
